/* 애니메이션 캐릭터 */

.animated-fighter {
  position: absolute;
  transform-origin: center center;
  transition: left 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
    top 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 10;
  will-change: transform, left, top;
}

.animated-fighter .fighter-sprite {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

.animated-fighter .fighter-nickname {
  position: absolute;
  bottom: -20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 11px;
  font-weight: 700;
  color: #fff;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
  white-space: nowrap;
  pointer-events: none;
}

/* 이동 중 트랜지션 비활성화 */
.animated-fighter.moving {
  transition: none;
}

/* 공격 시 글로우 효과 */
.animated-fighter.attacking .fighter-sprite {
  filter: brightness(1.2) drop-shadow(0 0 8px rgba(255, 150, 50, 0.6));
}

/* 피격 시 효과 */
.animated-fighter.hit .fighter-sprite {
  filter: brightness(1.8) saturate(0.5);
  animation: hit-flash 0.1s ease-out 3;
}

@keyframes hit-flash {
  0%, 100% { filter: brightness(1.8) saturate(0.5); }
  50% { filter: brightness(2.5) saturate(0); }
}

/* 승리 시 효과 */
.animated-fighter.victory .fighter-sprite {
  filter: drop-shadow(0 0 10px gold);
  animation: victory-bounce 0.5s ease-in-out infinite;
}

@keyframes victory-bounce {
  0%, 100% { transform: scale(1.5) translateY(0); }
  50% { transform: scale(1.5) translateY(-5px); }
}

/* 패배 시 효과 */
.animated-fighter.death .fighter-sprite {
  filter: brightness(0.6) grayscale(0.5);
}

/* 이펙트 */
.fighter-effect {
  position: absolute;
  pointer-events: none;
  z-index: 15;
}

.fighter-effect .effect-sprite {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

/* 점프 궤적 효과 */
.jump-trail {
  position: absolute;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
  pointer-events: none;
  animation: trail-fade 0.3s ease-out forwards;
}

@keyframes trail-fade {
  0% { opacity: 1; transform: scale(1); }
  100% { opacity: 0; transform: scale(0.5); }
}
